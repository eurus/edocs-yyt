---
layout: page
title: "流程相关"
category: standard
date: 2014-04-04 14:27:49
order: 7
---

### 报备意识
自助项目经常要求工程师到项目现场(一般是银行信息科或医院信息科)，每次前往或者离开项目现场都要让当地的办事处知晓行踪(以邮件形式通知)，这样有利于我们在项目出现问题的时候，有证据可查

### 前往项目目的地前的准备工作(预防白跑一趟)
在出发之前，多花1-2个小时检查如下事项。尤其是需要有经验的人员帮忙把控本次出差是否有价值。

1. 硬件是否已到位？电源网线是否已经安排好？硬件的型号对应驱动是否齐备？
2. HIS接口改造是否已完成？如不是，还缺多少？开发是否在现场？
3. 银行专线是否准备好？银行服务器是否已安放？网络配置是否完成？
4. 测试库是否齐备？测试库密钥、测试卡是否准备好？是否可以远程验证？
5. 正式库密钥是否齐备？是否需要灌密钥，如果需要，是否有工具？

### 代码复查以及备份

####--- 代码备份
根据有经验的人员反映项目服务器上的代码和远程git服务器上的代码不同步，造成不同步有以下几个原因：

1. 医院只有内网，无法同步到git服务器上
2. 一般项目维护的时候都是远程到医院服务器上进行界面或者细小的微小调整(医院催得比较急)
3. 我还不熟悉git的使用
4. 我有的时候比较忙，忘记把代码同步到git服务器上了

从以上原因看出主客观原因都存在，但是为了项目能规范地开发和维护，必须统一代码备份的步骤：

1. 不熟悉git操作的人员必须找有经验人员或找相关文档将git的常用操作熟练掌握
2. 每次离开项目开发场地必须实名制提交自己书写的代码以及注明修改的内容(养成经常提交的良好习惯)
3. 远程维护时,每处改动都要同步到本地代码库中，然后再同步到git服务器上，如果时间急迫，可以先用纸记录改动的内容，然后等有空的时候将之前记录的改动同步到git服务器上

####--- 代码复查
经常代码复查不仅能提高程序的容错率，而且能提供个人对项目开发语言的熟知程度，从而大大提高项目的开发效率。大致的代码复查步骤如下：

1. 每周开发人员定期检查、测试自己开发的代码是否存在BUG(一般建议每周五)，确认无误后，以邮件的通知项目经理请求其审核自己的代码
2. 项目经理每周定期检查组内成员请求审核的代码，审核结果要形成书面文档存档，并通知相关人员审核结果

### 项目启动协调会注意事项
根据有经验的人员反映财务科和信息科经常对项目流程存在冲突，有的流程需要信息科先验证，财务科再提出修改意见，最后院长验收，又会再微调一次，这样的反复不仅增加了开发人员的工作量、项目的成本，而且让医院误以为我们的项目流程不成熟存在好多漏洞

为了让医院打消这种顾虑，提供的解决方式如下：

尽量和办事处打好关系，尽可能让他们提前安排协调会并邀请信息科、财务科到现场。我方派出有经验的人员现场讲解可能出现不一致的问题（例如：发票、对账）等，然后让财务科人员提前确认，以避免后续验收时再出现大改或增加功能的情况。

### 项目涉及金额交易失败/超时处理(特别关注)
之前项目由于在金额交易失败/超时处理不当，造成医院短款，不仅给公司带来经济的损失，而且遭到办事处、医院、银行地投诉，造成很不好的负面影响。

为了解决这不良影响,一般处理金额交易/超时步骤如下:

1. 只有明确收到his返回失败的时候才能进行银行冲正交易，如果出现超时现象，打出凭条说明超时，不进行银行冲正交易
2. 当银行交易出现超时现象，统一进行银行冲正交易

### 找美工修改模板

尽量在第一线就回绝用户的不合理要求，如果实在没有办法直接回绝，可以通过办事处进行斡旋。

如果确实需要修改，请发一封邮件至美工并抄送至相关管理人员，主要联系手段为：邮件、qq、电话。注意珍惜对方的劳动果实，合理安排时间

可改范围：模板呈现、监听、回调函数等。

如果之前是另一个美工改的，要说清楚，方便交接版本。有条件请提供可测试版本。

### 硬件驱动改动

先咨询相关人员，一般小问题可以先找程俊、孔飞。是否要源码或找原作者，是否要提供日志、串口监控等信息。
袁慕华比较忙，尽量帮他做好准备工作，描述清晰，回馈会快。 

### his接口联调

问题判定、联调前遵循的原则：

1. 如果是his接口，需要提供方用自己的模拟报文测试通过。
2. 尽量确保对方文档详尽、版本最新。
3. 我们调试的时候，先检查通讯，然后检查发出的报文，然后检查his收到的报文。
4. 可以用网络调试助手帮助

